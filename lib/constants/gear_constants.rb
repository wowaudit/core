base_items = [
  'main_hand',
  'off_hand',
  'head',
  'neck',
  'shoulder',
  'back',
  'chest',
  'wrist',
  'hands',
  'waist',
  'legs',
  'feet',
  'finger_1',
  'finger_2',
  'trinket_1',
  'trinket_2'
]

ITEMS = {
  live: base_items,
  classic_era: base_items + ['ranged'],
  classic_progression: base_items + ['ranged'],
}

QUALITIES = {
  POOR: 0,
  COMMON: 1,
  UNCOMMON: 2,
  RARE: 3,
  EPIC: 4,
  LEGENDARY: 5,
  ARTIFACT: 6,
  HEIRLOOM: 7,
}

weapon_enchants = {
  3370 => [4, "Rune of Razorice"],
  3847 => [4, "Rune of the Stoneskin Gargoyle"],
  3368 => [4, "Rune of the Fallen Crusader"],
  6241 => [4, "Rune of Sanguination"],
  6242 => [4, "Rune of Spellwarding"],
  6243 => [4, "Rune of Hysteria"],
  6244 => [4, "Rune of Unending Thirst"],
  6245 => [4, "Rune of the Apocalypse"],
  7437 => [2, "Council's Guile (1)"],
  7438 => [2, "Council's Guile (2)"],
  7439 => [4, "Council's Guile (3)"],
  7440 => [2, "Stormrider's Fury (1)"],
  7441 => [2, "Stormrider's Fury (2)"],
  7442 => [4, "Stormrider's Fury (3)"],
  7443 => [2, "Stonebound Artistry (1)"],
  7444 => [2, "Stonebound Artistry (2)"],
  7445 => [4, "Stonebound Artistry (3)"],
  7446 => [2, "Oathsworn's Tenacity (1)"],
  7447 => [2, "Oathsworn's Tenacity (2)"],
  7448 => [4, "Oathsworn's Tenacity (3)"],
  7449 => [2, "Authority of Air (1)"],
  7450 => [2, "Authority of Air (2)"],
  7451 => [4, "Authority of Air (3)"],
  7452 => [2, "Authority of Fiery Resolve (1)"],
  7453 => [2, "Authority of Fiery Resolve (2)"],
  7454 => [4, "Authority of Fiery Resolve (3)"],
  7455 => [2, "Authority of Storms (1)"],
  7456 => [2, "Authority of Storms (2)"],
  7457 => [4, "Authority of Storms (3)"],
  7458 => [2, "Authority of the Depths (1)"],
  7459 => [2, "Authority of the Depths (2)"],
  7460 => [4, "Authority of the Depths (3)"],
  7461 => [2, "Authority of Radiant Power (1)"],
  7462 => [2, "Authority of Radiant Power (2)"],
  7463 => [4, "Authority of Radiant Power (3)"],
}

ring_enchants = {
  7329 => [2, "Glimmering Critical Strike (1)"],
  7330 => [2, "Glimmering Critical Strike (2)"],
  7331 => [2, "Glimmering Critical Strike (3)"],
  7335 => [2, "Glimmering Haste (1)"],
  7336 => [2, "Glimmering Haste (2)"],
  7337 => [2, "Glimmering Haste (3)"],
  7341 => [2, "Glimmering Mastery (1)"],
  7342 => [2, "Glimmering Mastery (2)"],
  7343 => [2, "Glimmering Mastery (3)"],
  7347 => [2, "Glimmering Versatility (1)"],
  7348 => [2, "Glimmering Versatility (2)"],
  7349 => [2, "Glimmering Versatility (3)"],
  7468 => [2, "Cursed Critical Strike (1)"],
  7469 => [2, "Cursed Critical Strike (2)"],
  7470 => [4, "Cursed Critical Strike (3)"],
  7332 => [2, "Radiant Critical Strike (1)"],
  7333 => [2, "Radiant Critical Strike (2)"],
  7334 => [4, "Radiant Critical Strike (3)"],
  7471 => [2, "Cursed Haste (1)"],
  7472 => [2, "Cursed Haste (2)"],
  7473 => [4, "Cursed Haste (3)"],
  7338 => [2, "Radiant Haste (1)"],
  7339 => [2, "Radiant Haste (2)"],
  7340 => [4, "Radiant Haste (3)"],
  7477 => [2, "Cursed Mastery (1)"],
  7478 => [2, "Cursed Mastery (2)"],
  7479 => [4, "Cursed Mastery (3)"],
  7344 => [2, "Radiant Mastery (1)"],
  7345 => [2, "Radiant Mastery (2)"],
  7346 => [4, "Radiant Mastery (3)"],
  7474 => [2, "Cursed Versatility (1)"],
  7475 => [2, "Cursed Versatility (2)"],
  7476 => [4, "Cursed Versatility (3)"],
  7350 => [2, "Radiant Versatility (1)"],
  7351 => [2, "Radiant Versatility (2)"],
  7352 => [4, "Radiant Versatility (3)"],
}

ENCHANTS = {
  'back' => {
    7398 => [2, "Whisper of Silken Avoidance (1)"],
    7399 => [2, "Whisper of Silken Avoidance (2)"],
    7400 => [2, "Whisper of Silken Avoidance (3)"],
    7401 => [2, "Chant of Winged Grace (1)"],
    7402 => [2, "Chant of Winged Grace (2)"],
    7403 => [4, "Chant of Winged Grace (3)"],
    7404 => [2, "Whisper of Silken Leech (1)"],
    7405 => [2, "Whisper of Silken Leech (2)"],
    7406 => [2, "Whisper of Silken Leech (3)"],
    7407 => [2, "Chant of Leeching Fangs (1)"],
    7408 => [2, "Chant of Leeching Fangs (2)"],
    7409 => [4, "Chant of Leeching Fangs (3)"],
    7410 => [2, "Whisper of Silken Speed (1)"],
    7411 => [2, "Whisper of Silken Speed (2)"],
    7412 => [2, "Whisper of Silken Speed (3)"],
    7413 => [2, "Chant of Burrowing Rapidity (1)"],
    7414 => [2, "Chant of Burrowing Rapidity (2)"],
    7415 => [4, "Chant of Burrowing Rapidity (3)"],
  },
  'chest' => {
    7353 => [2, "Stormrider's Agility (1)"],
    7354 => [2, "Stormrider's Agility (2)"],
    7355 => [4, "Stormrider's Agility (3)"],
    7356 => [2, "Council's Intellect (1)"],
    7357 => [2, "Council's Intellect (2)"],
    7358 => [4, "Council's Intellect (3)"],
    7359 => [2, "Oathsworn's Strength (1)"],
    7360 => [2, "Oathsworn's Strength (2)"],
    7361 => [4, "Oathsworn's Strength (3)"],
    7362 => [2, "Crystalline Radiance (1)"],
    7363 => [2, "Crystalline Radiance (2)"],
    7364 => [4, "Crystalline Radiance (3)"],
  },
  'wrist' => {
    7380 => [2, "Whisper of Armored Avoidance (1)"],
    7381 => [2, "Whisper of Armored Avoidance (2)"],
    7382 => [2, "Whisper of Armored Avoidance (3)"],
    7383 => [2, "Chant of Armored Avoidance (1)"],
    7384 => [2, "Chant of Armored Avoidance (2)"],
    7385 => [4, "Chant of Armored Avoidance (3)"],
    7386 => [2, "Whisper of Armored Leech (1)"],
    7387 => [2, "Whisper of Armored Leech (2)"],
    7388 => [2, "Whisper of Armored Leech (3)"],
    7389 => [2, "Chant of Armored Leech (1)"],
    7390 => [2, "Chant of Armored Leech (2)"],
    7391 => [4, "Chant of Armored Leech (3)"],
    7392 => [2, "Whisper of Armored Speed (1)"],
    7393 => [2, "Whisper of Armored Speed (2)"],
    7394 => [2, "Whisper of Armored Speed (3)"],
    7395 => [2, "Chant of Armored Speed (1)"],
    7396 => [2, "Chant of Armored Speed (2)"],
    7397 => [4, "Chant of Armored Speed (3)"],
  },
  'legs' => {
    7535 => [2, "Weavercloth Spellthread (1)"],
    7536 => [2, "Weavercloth Spellthread (2)"],
    7537 => [2, "Weavercloth Spellthread (3)"],
    7529 => [2, "Daybreak Spellthread (1)"],
    7530 => [2, "Daybreak Spellthread (2)"],
    7531 => [4, "Daybreak Spellthread (3)"],
    7532 => [2, "Sunset Spellthread (1)"],
    7533 => [2, "Sunset Spellthread (2)"],
    7534 => [4, "Sunset Spellthread (3)"],
    7596 => [2, "Dual Layered Armor Kit (1)"],
    7597 => [2, "Dual Layered Armor Kit (2)"],
    7598 => [2, "Dual Layered Armor Kit (3)"],
    7599 => [2, "Stormbound Armor Kit (1)"],
    7600 => [2, "Stormbound Armor Kit (2)"],
    7601 => [4, "Stormbound Armor Kit (3)"],
    7593 => [2, "Defender's Armor Kit (1)"],
    7594 => [2, "Defender's Armor Kit (2)"],
    7595 => [4, "Defender's Armor Kit (3)"],
  },
  'feet' => {
    7416 => [2, "Scout's March (1)"],
    7417 => [2, "Scout's March (2)"],
    7418 => [4, "Scout's March (3)"],
    7419 => [2, "Cavalry's March (1)"],
    7420 => [2, "Cavalry's March (2)"],
    7421 => [2, "Cavalry's March (3)"],
    7422 => [2, "Defender's March (1)"],
    7423 => [2, "Defender's March (2)"],
    7424 => [4, "Defender's March (3)"],
  },
  'finger_1' => ring_enchants,
  'finger_2' => ring_enchants,
  'main_hand' => weapon_enchants,
  'off_hand' => weapon_enchants,
}

GEM_QUALITY_MAPPING = {
  legacy: 1,
  uncommon: 2,
  rare: 3,
  epic: 4,
}

GEMS = {
  130215 => 1, # Legion
  130216 => 1,
  130217 => 1,
  130218 => 1,
  130219 => 1,
  130220 => 1,
  130221 => 1,
  130222 => 1,
  130246 => 1,
  130247 => 1,
  130248 => 1,
  151580 => 1,
  151583 => 1,
  151584 => 1,
  151585 => 1,
  153710 => 1, # Battle for Azeroth
  153711 => 1,
  153712 => 1,
  153713 => 1,
  153714 => 1,
  153715 => 1,
  154126 => 1,
  154127 => 1,
  154128 => 1,
  154129 => 1,
  153707 => 1,
  153708 => 1,
  153709 => 1,
  168639 => 1,
  168640 => 1,
  168641 => 1,
  168642 => 1,
  168636 => 1, # Leviathan's Eye
  168637 => 1, # Leviathan's Eye
  168638 => 1, # Leviathan's Eye
  173121 => 1, # Shadowlands
  173122 => 1,
  173123 => 1,
  173124 => 1,
  173125 => 1,
  173126 => 1,
  173127 => 1,
  173128 => 1,
  173129 => 1,
  173130 => 1,
  192913 => 1, # Dragonflight, Uncommon (all)
  192900 => 1,
  192903 => 1,
  192906 => 1,
  192910 => 1,
  192901 => 1,
  192914 => 1,
  192904 => 1,
  192907 => 1,
  192911 => 1,
  192905 => 1,
  192902 => 1,
  192916 => 1,
  192908 => 1,
  192912 => 1,
  192923 => 1, # Rare (385)
  192971 => 1,
  192940 => 1,
  192917 => 1,
  192926 => 1,
  192933 => 1,
  192929 => 1,
  192977 => 1,
  192946 => 1,
  192953 => 1,
  192956 => 1,
  192974 => 1,
  192943 => 1,
  192962 => 1,
  192920 => 1,
  192936 => 1,
  192950 => 1,
  192959 => 1,
  192965 => 1,
  192968 => 1,
  192978 => 1,
  192947 => 1, # Rare (400)
  192924 => 1,
  192918 => 1,
  192944 => 1,
  192921 => 1,
  192927 => 1,
  192934 => 1,
  192951 => 1,
  192972 => 1,
  192931 => 1,
  192937 => 1,
  192941 => 1,
  192957 => 1,
  192960 => 1,
  192975 => 1,
  192954 => 1,
  192963 => 1,
  192966 => 1,
  192969 => 1,
  192945 => 1, # Rare (415)
  192958 => 1,
  192928 => 1,
  192919 => 1,
  192967 => 1,
  192922 => 1,
  192935 => 1,
  192961 => 1,
  192948 => 1,
  192955 => 1,
  192925 => 1,
  192952 => 1,
  192932 => 1,
  192973 => 1,
  192964 => 1,
  192938 => 1,
  192942 => 1,
  192970 => 1,
  192976 => 1,
  192979 => 1,
  192980 => 1, # Epic (385)
  192983 => 1,
  192989 => 1,
  192986 => 1,
  194112 => 1,
  192987 => 1, # Epic (400)
  192981 => 1,
  192990 => 1,
  192984 => 1,
  194113 => 1,
  192985 => 1, # Epic (415)
  192982 => 1,
  192988 => 1,
  192991 => 1,
  194114 => 1,
  221908 => 2, # War Within, Rare
  221904 => 2,
  213486 => 2,
  213462 => 2,
  213459 => 2,
  213501 => 2,
  213515 => 2,
  213489 => 2,
  213453 => 2,
  213495 => 2,
  213504 => 2,
  213471 => 2,
  213456 => 2,
  213498 => 2,
  213465 => 2,
  213477 => 2,
  213480 => 2,
  213483 => 2,
  213492 => 2,
  213474 => 2,
  213468 => 2,
  213507 => 2,
  213510 => 2,
  225244 => 2, # Rank 2
  225242 => 2,
  213516 => 2,
  213478 => 2,
  221905 => 2,
  225241 => 2,
  225243 => 2,
  221909 => 2,
  213496 => 2,
  213454 => 2,
  213472 => 2,
  213457 => 2,
  213469 => 2,
  213481 => 2,
  213487 => 2,
  213493 => 2,
  213505 => 2,
  213511 => 2,
  213484 => 2,
  213502 => 2,
  213463 => 2,
  213490 => 2,
  213499 => 2,
  213460 => 2,
  213466 => 2,
  213508 => 2,
  213475 => 2,
  213482 => 4, # Rank 3
  213494 => 4,
  213479 => 4,
  213458 => 4,
  213455 => 4,
  213491 => 4,
  213485 => 4,
  213470 => 4,
  213473 => 4,
  213461 => 4,
  213467 => 4,
  213497 => 4,
  213488 => 4,
  213503 => 4,
  213464 => 4,
  213506 => 4,
  213500 => 4,
  213509 => 4,
  213517 => 4,
  213476 => 4,
  213512 => 4,
  213741 => 4, # Epic (580)
  213744 => 4,
  213738 => 4,
  213739 => 4, # Epic (595)
  213742 => 4,
  213745 => 4,
  213743 => 4, # Epic (610)
  213746 => 4,
  213740 => 4,
}

EPIC_GEMS = {
  192980 => 1, # Dragonflight, Epic (385)
  192983 => 1,
  192989 => 1,
  192986 => 1,
  194112 => 1,
  192987 => 1, # Epic (400)
  192981 => 1,
  192990 => 1,
  192984 => 1,
  194113 => 1,
  192985 => 1, # Epic (415)
  192982 => 1,
  192988 => 1,
  192991 => 1,
  194114 => 1,
  213741 => 2, # War Within, Epic (580)
  213744 => 2,
  213738 => 2,
  213739 => 2, # Epic (595)
  213742 => 2,
  213745 => 2,
  213743 => 4, # Epic (610)
  213746 => 4,
  213740 => 4,
}

TIER_ITEMS_BY_SLOT = {
  'head'     => [211993, 211984, 212056, 212065, 212011, 212047, 212083, 212038, 212020, 212092, 212029, 212002, 212074],
  'shoulder' => [212000, 211982, 212090, 212009, 211991, 212054, 212072, 212081, 212045, 212018, 212063, 212027, 212036],
  'chest'    => [212095, 212059, 212005, 211996, 212014, 212023, 212068, 211987, 212041, 212032, 212077, 212086, 212050],
  'hands'    => [212012, 212093, 212003, 212075, 211994, 212057, 212048, 212030, 212021, 212084, 212039, 211985, 212066],
  'legs'     => [212019, 212055, 212091, 212073, 212010, 212001, 211983, 212037, 212064, 212082, 212028, 212046, 211992],
}

TIER_ITEMS = TIER_ITEMS_BY_SLOT.values.flatten

LEGACY_TIER_CUTOFFS = { 1 => 'R', 597 => 'N', 610 => 'H', 623 => 'M' }
